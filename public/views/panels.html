<md-content ng-init="thumbnailCtrl.getThumbnails(); thumbnailCtrl.getLastPosts(); thumbnailCtrl.getRandomPostsTitles(); thumbnailCtrl.loading=true;" flex layout="row"  layout-align="center start">
<!--error displaying---------------------------------------------------------------------------------------->
    <p flex="100" ng-show="thumbnailCtrl.responseError">
      Error: {{thumbnailCtrl.responseError}}
    </p>
<!--main thumbnails area------------------------------------------------------------------------------------>
    <md-content flex="75" layout="row" layout-wrap layout-align="space-around start">
      <div flex="100" ng-if="thumbnailCtrl.loading" layout="row" layout-align="center center">
        <md-progress-circular ng-show="thumbnailCtrl.loading" md-mode="indeterminate"></md-progress-circular>
        <h3 ng-show="thumbnailCtrl.loading">Loading...</h3>
      </div>

 <!--thumbnails-->
      <md-card ng-hide="thumbnailCtrl.showArticle" ng-repeat="data in thumbnailCtrl.thumbnailData" flex="30">
        <img ng-show="data.imageName" ng-src="{{'uploads/'+data.imageName}}" alt="" />
        <img ng-hide="data.imageName" ng-src="{{'uploads/notfound.png'}}" alt="" />
        <md-card-content>
          <h2 ng-show="!editing">{{data.thumbnailTitle}}</h2>
          <h2 ng-show="editing">
            <md-input-container>
              <label>title</label>
              <input ng-model="editTitle" type="text">
            </md-input-container>
          </h2>
          <p ng-show="!editing">{{data.thumbnailBody}}</p>
          <p ng-show="editing">
            <md-input-container>
              <label>body</label>
              <textarea ng-model="editBody"></textarea>
            </md-input-container>
          </p>
          <md-progress-linear ng-if="deletingThis"></md-progress-linear>
          <div ng-if="thumbnailCtrl.adminMode" layout="row" flex>
            <md-button ng-show="editing" ng-click="editing=false;" class="md-raised md-primary">
              Cancel</md-button>
            <md-button ng-hide="editing" ng-click="thumbnailCtrl.removeThumbnail(data.thumbnailTitle); thumbnailCtrl.loading=true; deletingThis=true;" class="md-raised md-warn">
              Delete</md-button>
            <md-button ng-hide="editing" ng-click="editing=true;" class="md-raised md-primary">
              Edit</md-button>
            <md-button ng-show="editing" ng-click="thumbnailCtrl.editThumbnail(data.thumbnailTitle, editTitle, editBody); editing=false;" class="md-raised md-primary">
              Save</md-button>
          </div>
        </md-card-content>
        <md-divider></md-divider>
        <md-card-footer layout="row" layout-align="center">
          <md-button ng-click="thumbnailCtrl.showArticle=true; thumbnailCtrl.scrollToTop(); thumbnailCtrl.value=thumbnailCtrl.selectIndex($index);" class="md-flat md-accent">
            Leer art√≠culo</md-button>
        </md-card-footer>
      </md-card>

 <!--article-->
      <md-card layout-align="center center" ng-show="thumbnailCtrl.showArticle" class="md-whiteframe-z2" flex>
        <md-toolbar layout-align="center center">
          <div ng-bind-html="thumbnailCtrl.value.articleTitle"></div>
        </md-toolbar>
        <div>
          <small>by <b>merlox</b>
            {{thumbnailCtrl.value.createdAt | date}}
          </small>
        </div>
        <md-divider></md-divider>
        <div style="padding:10px 50px;" ng-bind-html="thumbnailCtrl.value.articleBody"></div>
      </md-card>

 <!--paginator-->
      <div ng-hide="queryLimit < 19 || thumbnailCtrl.showArticle" flex="100" layout="row" layout-align="center">
        <md-button ng-repeat="page in thumbnailCtrl.pagesArray" ng-click="queryLimit ? thumbnailCtrl.getThumbnailsLimit(queryLimit, page) : thumbnailCtrl.getPage(page)" ng-class="{'md-raised' : page == thumbnailCtrl.actualPage}"  class="md-accent">
          {{page}}
        </md-button>
      </div>
    </md-content><!--close thumbnails main area-->

<!--sidebar----------------------------------------------------------------------------------------------->
    <md-content flex="25" ng-show="!thumbnailCtrl.isSidebarHidden">
 <!--last 10 Posts-->
      <md-card layout="column">
        <md-toolbar layout-align="center center">
          Last Posts
        </md-toolbar>
        <md-list layout="column" layout-align="space-around" style="padding:0;">
          <md-list-item ng-repeat="data in thumbnailCtrl.lastPosts">
            <md-divider></md-divider>
            {{data.thumbnailTitle}}
          </md-list-item>
        </md-list>
      </md-card>
 <!--options-->
      <md-card layout="column">
        <md-toolbar layout-align="center center">
          Options
        </md-toolbar>
        <md-list layout="column" layout-align="space-around" style="padding:0;">
          <md-progress-linear md-mode="indeterminate" ng-if="thumbnailCtrl.loading"></md-progress-linear>
          <md-list-item>
            <md-input-container flex>
              <label>limit thumbnails</label>
              <input ng-model="queryLimit" ng-disabled="thumbnailCtrl.loading" ng-change="thumbnailCtrl.getThumbnailsLimit(queryLimit); thumbnailCtrl.loading=true;" type="number" maxlength="50">
            </md-input-container>
            <md-divider></md-divider>
          </md-list-item>
        </md-list>
      </md-card>
 <!--random posts-->
     <md-card layout="column">
       <md-toolbar layout-align="center center">
         Random posts
       </md-toolbar>
       <md-list layout="column" layout-align="space-around" style="padding:0;">
         <md-progress-linear md-mode="indeterminate" ng-if="thumbnailCtrl.loading"></md-progress-linear>
         <md-list-item ng-repeat="data in thumbnailCtrl.randomTitles">
           {{data.thumbnailTitle}}
           <md-divider></md-divider>
         </md-list-item>
       </md-list>
     </md-card>

    </md-content><!--sidebar close-->

</md-content><!--view close-->
