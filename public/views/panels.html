<md-content ng-init="thumbnailCtrl.getThumbnails(); thumbnailCtrl.getLastPosts(); thumbnailCtrl.loading=true;" flex layout="row"  layout-align="center start">
    <p flex="100" ng-show="thumbnailCtrl.responseError">
      Error: {{thumbnailCtrl.responseError}}
    </p>
    <md-content flex="75" layout="row" layout-wrap layout-align="space-around start">
      <div flex="100" ng-if="thumbnailCtrl.loading" layout="row" layout-align="center center">
        <md-progress-circular ng-show="thumbnailCtrl.loading" md-mode="indeterminate"></md-progress-circular>
        <h3 ng-show="thumbnailCtrl.loading">Loading...</h3>
      </div>

      <md-card flex="30" ng-repeat="data in thumbnailCtrl.thumbnailData">
        <img ng-show="data.imageName" ng-src="{{'uploads/'+data.imageName}}" alt="" />
        <img ng-hide="data.imageName" ng-src="{{'uploads/notfound.png'}}" alt="" />

        <md-card-content>
          <h2 ng-show="!editing">{{data.title}}</h2>
          <h2 ng-show="editing">
            <md-input-container>
              <label>title</label>
              <input ng-model="editTitle" type="text">
            </md-input-container>
          </h2>
          <p ng-show="!editing">{{data.body}}</p>
          <p ng-show="editing">
            <md-input-container>
              <label>body</label>
              <textarea ng-model="editBody"></textarea>
            </md-input-container>
          </p>
          <md-progress-linear ng-if="deletingThis"></md-progress-linear>
          <div layout="row" flex>
            <md-button ng-show="editing" ng-click="editing=false;" class="md-raised md-primary">
              Cancel</md-button>
            <md-button ng-hide="editing" ng-click="thumbnailCtrl.removeThumbnail(data.title); thumbnailCtrl.loading=true; deletingThis=true;" class="md-raised md-warn">
              Delete</md-button>
            <md-button ng-hide="editing" ng-click="editing=true;" class="md-raised md-primary">
              Edit</md-button>
            <md-button ng-show="editing" ng-click="thumbnailCtrl.editThumbnail(data.title, editTitle, editBody); editing=false;" class="md-raised md-primary">
              Save</md-button>
          </div>
        </md-card-content>
        <md-divider></md-divider>

        <md-card-footer layout="row" layout-align="center">
          <md-button class="md-flat md-accent">Leer art√≠culo</md-button>
        </md-card-footer>
      </md-card>

      <div ng-hide="queryLimit < 19" flex="100" layout="row" layout-align="center">
        <md-button ng-repeat="page in thumbnailCtrl.pagesArray" ng-click="queryLimit ? thumbnailCtrl.getThumbnailsLimit(queryLimit, page) : thumbnailCtrl.getPage(page)" ng-class="{'md-raised' : page == thumbnailCtrl.actualPage}"  class="md-accent">
          {{page}}
        </md-button>
      </div>
    </md-content>

    <md-content flex="25">
      <md-card layout="column">
        <md-toolbar layout-align="center center">
          Last Posts
        </md-toolbar>
        <md-list layout="column" layout-align="space-around" style="padding:0;">
          <md-list-item ng-repeat="data in thumbnailCtrl.lastPosts">
            <md-divider></md-divider>
            {{data.title}}
          </md-list-item>
        </md-list>
      </md-card>
      <md-card layout="column">
        <md-toolbar layout-align="center center">
          Options
        </md-toolbar>
        <md-list layout="column" layout-align="space-around" style="padding:0;">
          <md-progress-linear ng-if="thumbnailCtrl.loading"></md-progress-linear>
          <md-list-item>
            <md-input-container flex>
              <label>limit thumbnails</label>
              <input ng-model="queryLimit" ng-disabled="thumbnailCtrl.loading" ng-change="thumbnailCtrl.getThumbnailsLimit(queryLimit); thumbnailCtrl.loading=true;" type="number" maxlength="50">
            </md-input-container>
            <md-divider></md-divider>
          </md-list-item>
        </md-list>
      </md-card>


    </md-content>


</md-content>
