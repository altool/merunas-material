<md-progress-linear ng-show="thumbnailCtrl.loading" md-mode="indeterminate"></md-progress-linear>
<md-progress-linear ng-show="thumbnailCtrl.loadingDeterminate" md-mode="determinate" value="{{thumbnailCtrl.loadingDeterminate}}"></md-progress-linear>
<md-toolbar layout-align="center start" class="md-primary">
  Creador de thumbnails
</md-toolbar>
<md-content flex layout="row">
  <md-sidenav md-is-locked-open="true" style="height:100%;" class="md-whiteframe-z1">
    <form layout="column" layout-align="center" enctype="multipart/form-data" method="post">
        <div ngf-drop ng-model="myFile" ngf-pattern="image/*" layout="column" layout-align="center center" class="dropzone-div">
          Select or drop image:
          <img-crop ng-show="myFile" image="myFile | ngfDataUrl" result-image="croppedDataUrl" area-min-size="50" area-type="square" result-image-size="333" ng-init="croppedDataUrl=''">
          </img-crop>
          <input type="file" class="md-raised md-primary" accept="image/*" name="image" ngf-select ng-model="myFile" />
        </div>
      <md-input-container style="padding:0;">
        <label>Titulo del artículo</label>
        <input ng-model="thumbnailCtrl.title" required minlength="2">
      </md-input-container>
      <md-input-container style="padding:0;">
        <label>Contenido de la thumbnail</label>
        <textarea ng-model="thumbnailCtrl.body" required rows="5"></textarea>
      </md-input-container>
      <md-progress-linear ng-show="thumbnailCtrl.loadingDeterminate" md-mode="determinate" value="{{thumbnailCtrl.loadingDeterminate}}"></md-progress-linear>
      <md-button ng-click="thumbnailCtrl.postThumbnail(croppedDataUrl); thumbnailCtrl.loading = true;" ng-disabled="thumbnailCtrl.loading" class="md-raised md-primary">
        Send Thumbnail
      </md-button>
    </form>
  </md-sidenav>

  <h3>{{thumbnailCtrl.response}}</h3>

  <md-card flex="20" class="md-whiteframe-z1" layout="column">
    <img ng-show="myFile" ng-src="{{croppedDataUrl}}" alt="" />
    <img ng-hide="myFile" src="../uploads/preview-image.jpg" alt="" />
    <i ng-hide="myFile" style="text-align:center; color:lightgrey;">
      Preview
    </i>
    <md-divider ></md-divider>
    <md-card-content>
      <h2>{{thumbnailCtrl.title}}</h2>
      <h2 ng-show="!thumbnailCtrl.title"><i style="color:lightgrey;">Title</i></h2>
      <p>{{thumbnailCtrl.body}}</p>
      <p ng-show="!thumbnailCtrl.body"><i style="color:lightgrey">Content</i></p>
    </md-card-content>
    <md-divider></md-divider>
    <md-card-footer layout="row" layout-align="center">
      <md-button class="md-flat md-accent">Leer artículo</md-button>
    </md-card-footer>
  </md-card>

  <!--Post content-->
  <md-container layout="column" layout-padding layout-margin class="md-whiteframe-z1" flex>
    <h1>Title</h1>
    <md-divider></md-divider>
    <p>
      Content
    </p>
  </md-container>

</md-content>
