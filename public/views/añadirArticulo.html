<md-progress-linear ng-show="thumbnailCtrl.loading" md-mode="indeterminate"></md-progress-linear>
<md-progress-linear ng-show="thumbnailCtrl.loadingDeterminate" md-mode="determinate" value="{{thumbnailCtrl.loadingDeterminate}}"></md-progress-linear>
<md-toolbar layout-align="center start" class="md-primary">
  Creador de thumbnails
</md-toolbar>
<md-content flex layout="row">
  <md-sidenav md-is-locked-open="true" style="height:680px" class="md-whiteframe-z2">
    <form layout="column" layout-align="center" enctype="multipart/form-data" method="post">
        <div ngf-drop ng-model="myFile" ngf-pattern="image/*" layout="column" layout-align="center center" class="dropzone-div">
          Drop image Here
          <img-crop image="myFile  | ngfDataUrl" result-image="croppedDataUrl" area-min-size="50" area-type="square" result-image-size="600" ng-init="croppedDataUrl=''">
          </img-crop>

          Select an image:
          <input type="file" class="md-raised md-primary" accept="image/*" name="image" ngf-select ng-model="myFile" />
        </div>
      <md-input-container>
        <label>Titulo del artículo</label>
        <input ng-model="thumbnailCtrl.title" required minlength="2">
      </md-input-container>
      <md-input-container>
        <label>Contenido de la thumbnail</label>
        <textarea ng-model="thumbnailCtrl.body" required rows="5"></textarea>
      </md-input-container>
      <md-progress-linear ng-show="thumbnailCtrl.loadingDeterminate" md-mode="determinate" value="{{thumbnailCtrl.loadingDeterminate}}"></md-progress-linear>
      <md-button ng-click="thumbnailCtrl.postThumbnail(croppedDataUrl); thumbnailCtrl.loading = true;" ng-disabled="thumbnailCtrl.loading" class="md-raised md-primary">
        Send Thumbnail
      </md-button>
    </form>
  </md-sidenav>


  <h3>{{thumbnailCtrl.response}}{{thumbnailCtrl.loadingDeterminate}}</h3>

  <div flex></div>
  <md-card flex="25" layout="column">
    <img ng-src="{{croppedDataUrl}}" alt="" />
    <md-card-content>
      <h2>{{thumbnailCtrl.title}}</h2>
      <p>{{thumbnailCtrl.body}}</p>
    </md-card-content>
    <md-divider></md-divider>
    <md-card-footer layout="row" layout-align="center">
      <md-button class="md-flat md-accent">Leer artículo</md-button>
    </md-card-footer>
  </md-card>
  <div flex></div>

</md-content>
